{% load static%}
<html>
<head>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'simple/css/style.css' %}">

</head>

<body class="body">
    <div class="container" style="margin-bottom: 20px;">

        <nav class="navbar navbar-expand-lg navbar-dark bg-primary" style="margin-bottom: 20px;">
            <a class="navbar-brand" href="http://44.211.140.180:8000/ades/" style="margin-left: 20px;">ADEs</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#">About Sonatafy ADEs Demo</a>
                </li>
                <!--<li class="nav-item">
                  <a class="nav-link" href="metodologia.html" disabled>Metodología</a>
                </li>
      		<li class="nav-item">
		<a class="nav-link" href="historias_clinicas" disabled>Historias clínicas</a>
		</li>-->          
                <li class="nav-item">
                  <a class="nav-link" href="credits" disabled>Credits</a>
                </li>
		<!--<li class="nav-item">
                <a class="nav-link" href="agradecimientos" disabled>Agradecimientos</a>
                </li>-->
              </ul>
              
            </div>
          </nav>
    
          <div class="text-xl-center text-secondary" style="margin-top: 30px; margin-bottom: 20px;">
            <h1>Automatic Detection of Adverse Drug Effects<p style="font-size: 12px">Sonatafy Demo</p> </h1>
          </div>

	<div class="text-xl-center text-secondary" style="margin-bottom: 15px;">
		<h4>Model Description</h4>
	</div>

	<div class="text-xl-center text-secondary" style="margin-bottom: 15px;">
                <h4>Scope and Limitations</h4>
        </div>

	<!--

	<div class="card">
  <div class="card-body">
    <p class="card-text">

    	<p>La cantidad de textos clínicos en formato digital no es ajena a la curva de crecimiento exponencial de la información que actualmente se encuentra disponible en formato digital. No obstante, esta información clínica, que se encuentra tanto de forma estructurada como no estructurada, carece de sistemas que permitan sacarle el mayor provecho para el beneficio de los pacientes y de las entidades prestadoras de salud. Se estima que aproximadamente el 40 % de la información recolectada en los sistemas de salud contiene texto escrito en lenguaje natural; en estos textos se encuentra información de vital importancia acerca de síntomas, diagnósticos, tratamientos, uso de medicamentos y reacciones adversas a medicamentos para los pacientes. Esta información puede ser utilizada para mejorar la salud y la atención de nuevos pacientes (Dalianis et al., 2009).</p>-->
	
	<!--
	<br><br>
	SIMPLE es un sistema accesible vía web para extraer información de textos clínicos 
	escritos en lenguaje natural en español, que consigue representar de forma estructurada la información no estructurada de las historias clínicas. 
	SIMPLE toma un texto clínico escrito de forma libre y extrae información para separarla en los siguientes apartados: información general del 
	paciente, motivos de consulta, diagnóstico, hallazgos (descartados y observados), analítica (resultados de exámenes de laboratorio), 
	procedimientos (descartados y realizados) y tratamientos (prescritos y no prescritos). 

	<br><br>
	SIMPLE usa algoritmos basados en procesamiento de lenguaje natural clásico 
	que combinan reglas sintácticas con etiquetaje morfosintáctico, stemming, lematización, entre otros. Uno de los componentes principales de SIMPLE 
	lo constituye la identificación de indicadores de negación y la recuperación de sus alcances (dominios) junto con el resto de información 
	relevante relacionada con el evento o la entidad negada dentro de la historia clínica, permitiendo estructurar la información de tal forma 
	que todo aquello que haya sido descartado en la atención del paciente pueda ser identificado de forma ágil y clara. 
	-->
	
	<!--
	<br><br>
	SIMPLE es un sistema accesible vía web que permite extraer información de textos clínicos escritos en lenguaje natural en español. SIMPLE identifica enfermedades, organimos y procedimientos. Además, uno de los componentes principales de SIMPLE lo constituye la identificación de indicadores de negación y la recuperación de sus alcances (dominios) junto con las referencias de la negación que se encuentran fuera del alcance (OSR, del inglés out-of-scope reference). Adicionalmente, SIMPLE identifica las especulaciones y sus alcances, permitiendo una mejor extracción de información.

	<br><br>

	SIMPLE usa cinco modelos de lenguaje tipo BERT entrenados para cada una de las diferentes tareas de etiquetado de secuencias que lleva a cabo.

	<br><br>
	Con SIMPLE se podrá mejorar la atención en salud de nuevos pacientes y se facilitará el trabajo del personal médico con el apoyo al diagnóstico a través del sistema  propuesto. Finalmente, cabe resaltar que el trabajo fue desarrollado para el español, ya que existen múltiples aproximaciones en inglés  y algunos sistemas desarrollados para dicha lengua, pero que de nada sirven en la vida real para la población hispanohablante que es la tercera  más representativa a nivel mundial, según el Instituto Cervantes.

	-->

	</p>
  </div>
</div>

<!--
    <div style="margin-bottom: 50px;">
        <form name="datos" method="POST" action="">{% csrf_token %}
            <div class="form-group">
                <textarea class="form-control" type="text" id="t1" name="texto1" rows="5" placeholder="Ingrese la historia cl&iacute;nica aqu&iacute;..."></textarea>
                <br>
                <input class="btn btn-secondary" id="extraer_info" type="submit" value="Extraer información relevante"/> 
                {% if not hallazgos_presentes %}
                <div class="d-flex align-items-center" style="display: none; margin-top: 10px;">
                    <strong id="cargando" style="display: none;">Cargando...</strong>
                    <div class="spinner-border ml-auto" id="spinner" style="display: none;" role="status" aria-hidden="true"></div>
                </div>
                {% endif %}
            </div>
        </form>
    </div>
-->

    {% if msg %}
        <div>
            <table class="table table-striped">
                <tr>
                <th>Forma</th> <th>Lema</th> <th>Categor&iacute;a gramatical</th>
                </tr>
                <tr>
                {%for p in msg%}
                    {%for i in p%}
                        <td>
                        {{i}}
                        </td>
                    {% endfor %}
                    </tr>
                {%endfor%}
            </table>
        </div>
    {%endif%}
    
    <!--
    {%if entidades%}

        <div class="entidades">
            <h3>Entidades</h3>
            <br>
            <table>
            {%for ent in entidades%}
                <tr>
                {% for e in  ent|slice:":1"%}

                        <td>{{e}}</td>
                {% endfor %}
                </tr>
            {%endfor%}
            </table>
        </div>

    {% endif %}

    -->

    <!--
    <div style="margin-bottom: 20px;">
        <h3 class="text-xl-center text-secondary">Información más relevante de la historia clínica</h3>
    </div>
    -->

    {%if info_general %}

    <hr class="mt-2 mb-3"/>
        
    <div class="hallazgos" style="margin-bottom: 25px;">
        <h5 class="text-xl-center text-secondary">Información general del paciente</h5>
        
        <!--<div>
            <audio controls>
                <source src="{% static 'simple/Audios/info_general.mp3' %}" type="audio/ogg">
            Your browser does not support the audio element.
            </audio>
        </div>-->
        
        {%for info in info_general%}
            
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-primary">{{info}}</button>
            
        {%endfor%}

    </div>
    
    <hr class="mt-2 mb-3"/>

    {% endif %} 

    {%if motivo_consulta %}

        
    <div class="hallazgos" style="margin-bottom: 25px;">
        <h5 class="text-xl-center text-secondary">Motivo de consulta</h5>
        
	<!--<div>
            <audio controls>
                <source src="{% static 'simple/Audios/motivo_consulta.mp3' %}" type="audio/ogg">
            Your browser does not support the audio element.
            </audio>
        </div>-->
        {%for motivo in motivo_consulta%}
            
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-primary">{{motivo}}</button>
            
        {%endfor%}

    </div>
    
    <hr class="mt-2 mb-3"/>
    
    {% endif %}


    {%if diagnostico %}

        
    <div class="hallazgos" style="margin-bottom: 25px;">
        <h5 class="text-xl-center text-secondary">Diagnóstico</h5>
        <!--<div>
            <audio controls>
                <source src="{% static 'simple/Audios/diagnostico.mp3' %}" type="audio/ogg">
            Your browser does not support the audio element.
            </audio>
        </div>-->
        {%for dgn in diagnostico%}
            
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-warning">{{dgn}}</button>
            
        {%endfor%}

    </div>
    
    <hr class="mt-2 mb-3"/>
    
    {% endif %}

    {% if hallazgos_ausentes or hallazgos_presentes %}

        <div class="hallazgos" style="margin-bottom: 25px;">
            <h5 class="text-xl-center text-secondary">Hallazgos</h5>
        </div>

    {% endif %}

    {%if hallazgos_ausentes %}
    <div class="hallazgos" style="margin-bottom: 25px;">
            <div>
                <button style="margin-top: 10px; margin-bottom: 10px;" class="btn btn-success">Descartados</button>
            </div>
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/hallazgos_ausentes.mp3' %}" type="audio/ogg">
                    Your browser does not support the audio element.
                </audio>
            </div>-->
        {%for hall in hallazgos_ausentes%}
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-success">{{hall}}</button>
        {%endfor%}
    </div>
    {% endif %}

    
    {%if hallazgos_presentes %}
        <div class="hallazgos" style="margin-bottom: 25px;">
            <div>
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-danger">Observados</button>
            </div>
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/hallazgos_presentes.mp3' %}" type="audio/ogg">
                    Your browser does not support the audio element.
                </audio>
            </div>-->
            {%for hall in hallazgos_presentes%}
                        <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-danger">{{hall}}</button>
                {%endfor%}
        </div>

        <hr class="mt-2 mb-3"/>

    {% endif %}
    

    {% if examenes %}

        <div class="hallazgos" style="margin-bottom: 25px;">
            <h5 class="text-xl-center text-secondary">Analítica</h5>
        </div>

    {% endif %}


    {%if examenes %}
        <div class="hallazgos" style="margin-bottom: 25px;">
            <div>
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-info">Resultados</button> 
            </div>    
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/examenes.mp3' %}" type="audio/ogg">
                Your browser does not support the audio element.
                </audio>
            </div>-->
            {%for exm in examenes%}
                        <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-info">{{exm}}</button>
            {%endfor%}
        </div>

        <hr class="mt-2 mb-3"/>

    {% endif %}


    {% if procedimientos_ausentes or procedimientos_presentes %}

        <div class="hallazgos" style="margin-bottom: 25px;">
            <h5 class="text-xl-center text-secondary">Procedimientos</h5>
        </div>

    {% endif %}

    {%if procedimientos_ausentes %}
    <div class="hallazgos" style="margin-bottom: 25px;">    
            <div>
                <button style="margin-top: 10px; margin-bottom: 10px;" class="btn btn-dark">Descartados</button> 
            </div>
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/procedimientos_ausentes.mp3' %}" type="audio/ogg">
                Your browser does not support the audio element.
                </audio>
            </div>-->
        {%for prc in procedimientos_ausentes%}
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-dark">{{prc}}</button>
        {%endfor%}
    </div>
    {% endif %}

    
    {%if procedimientos_presentes %}
        <div class="hallazgos" style="margin-bottom: 25px;">
            <div>
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-info">Realizados</button> 
            </div>    
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/procedimientos_presentes.mp3' %}" type="audio/ogg">
                Your browser does not support the audio element.
                </audio>
            </div>-->
            {%for prc in procedimientos_presentes%}
                        <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-info">{{prc}}</button>
            {%endfor%}
        </div>

        <hr class="mt-2 mb-3"/>

    {% endif %}


    {% if tratamientos_ausentes or tratamientos_presentes %}

    <div class="hallazgos" style="margin-bottom: 25px;">
        <h5 class="text-xl-center text-secondary">Tratamientos</h5>
    </div>

    {% endif %}

    {%if tratamientos_ausentes %}
    <div class="hallazgos" style="margin-bottom: 25px;">
            <div>
                <button style="margin-top: 10px; margin-bottom: 10px;" class="btn btn-secondary">Sin efecto positivo</button> 
            </div>
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/tratamientos_ausentes.mp3' %}" type="audio/ogg">
                Your browser does not support the audio element.
                </audio>
            </div>-->
        {%for trat in tratamientos_ausentes%}
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-secondary">{{trat}}</button>
        {%endfor%}
    </div>
    {% endif %}


    {%if tratamientos_presentes %}
        <div class="hallazgos" style="margin-bottom: 25px;">
            <div>
                <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-success">Con efecto positivo</button> 
            </div>    
            <!--<div>
                <audio controls>
                    <source src="{% static 'simple/Audios/tratamientos_presentes.mp3' %}" type="audio/ogg">
                Your browser does not support the audio element.
                </audio>
            </div>-->
            {%for trat in tratamientos_presentes%}
                        <button style="margin-top: 5px; margin-bottom: 5px;" class="btn btn-outline-success">{{trat}}</button>
            {%endfor%}
        </div>

        <hr class="mt-2 mb-3"/>

    {% endif %}

</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script>
    $(document).ready(
        function(){
            $("#extraer_info").click(function () {
                $("#cargando").show("slow");
                $("#spinner").show("slow");
                const hallazgos_presentes = []
        });

    });
</script>
</body>
</html>
